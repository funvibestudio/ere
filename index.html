<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Défis Espagnols</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, rgba(255, 72, 89, 0.9), rgba(255, 180, 85, 0.8));
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-attachment: fixed;
            overflow: hidden;
        }

        .container {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.15);
            width: 90%;
            max-width: 600px;
        }

        h1 {
            color: #fff;
            margin-bottom: 20px;
            font-size: 2rem;
            text-transform: uppercase;
            font-weight: bold;
        }

        .btn-container {
            display: flex;
            justify-content: space-evenly;
            margin-top: 20px;
        }

        .btn {
            background-color: #FF6A00;
            color: white;
            padding: 15px 30px;
            font-size: 1.1rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 45%;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .btn:hover {
            background-color: #FF4C00;
            transform: scale(1.05);
        }

        .btn:active {
            transform: scale(1.02);
        }

        .btn-secondary {
            background-color: #FFAF00;
        }

        .btn-secondary:hover {
            background-color: #FF8C00;
        }

        .challenge-history {
            background-color: #FFF1D3;
            color: #333;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .challenge-history h3 {
            font-size: 1.5rem;
            color: #FF6A00;
        }

        .challenge-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            background-color: #FFEB99;
            border-radius: 8px;
            font-size: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .challenge-item span {
            font-weight: bold;
        }
        #btn-reset {
    position: fixed;
    bottom: 20px;
    right: 20px;
    opacity: 0.9;
    visibility: visible;
    transition: opacity 0.3s ease;
    width: 50px; /* Plus petit que précédemment */
    height: 50px; /* Ajuste également la hauteur pour que ce soit un bouton circulaire */
    font-size: 0.7rem; /* Taille de la police plus petite */
    padding: 0; /* Retirer le padding pour mieux contrôler la taille */
    border-radius: 50%; /* Rendre le bouton circulaire */
    background-color: #FF6A00;
    color: white;
    border: none;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    cursor: pointer;
    z-index: 1000; /* Assurez-vous qu'il est au-dessus des autres éléments */
}

#btn-reset:hover {
    background-color: #FF4C00;
    transform: scale(1.05);
}

#btn-reset:active {
    transform: scale(1.02);
}

@media (max-width: 750px) {
    #btn-reset {
        bottom: 15px;
        right: 15px;
        width: 40px; /* Plus petit sur mobile */
        height: 40px; /* Assurer que le bouton reste circulaire */
        font-size: 0.7rem; /* Garder la petite taille de la police */
    }
}

.tuto-popup {
    position: absolute;
    background-color: rgba(255, 255, 255, 0.9);
    border: 2px solid #FF6A00;
    border-radius: 10px;
    padding: 15px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    max-width: 300px;
    font-size: 1rem;
    text-align: center;
    transform: translate(-50%, -100%);
}

.tuto-popup p {
    margin-bottom: 10px;
    color: #333;
}

.tuto-popup button {
    background-color: #FF6A00;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.tuto-popup button:hover {
    background-color: #FF4C00;
    transform: scale(1.05);
}

.tuto-popup button:active {
    transform: scale(1.02);
}

.tuto-popup .close-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: transparent;
    border: none;
    color: #FF6A00;
    font-size: 1.2rem;
    cursor: pointer;
}

.tuto-popup .close-btn:hover {
    color: #FF4C00;
}

.highlight {
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% {
        background-color: #007BFF; /* Couleur bleue pour la mise en évidence */
    }
    50% {
        background-color: #28A745; /* Couleur verte pour la mise en évidence */
    }
    100% {
        background-color: #007BFF; /* Couleur bleue pour la mise en évidence */
    }
}



@media (max-width: 750px) {
    #btn-reset {
        bottom: 15px;
        right: 15px;
        width: 40px; /* Plus petit sur mobile */
        height: 40px; /* Assurer que le bouton reste circulaire */
        font-size: 0.7rem; /* Garder la petite taille de la police */
    }
}

        /* Adaptation pour mobile */
        @media (max-width: 1024px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.8rem;
            }

            .btn {
                font-size: 1rem;
                padding: 12px 25px;
                width: 45%;
            }

            .btn-container {
                flex-direction: column;
                gap: 15px;
            }

            .challenge-history {
                padding: 15px;
            }
        }

        /* Pour les iPhones (portrait) */
        @media (max-width: 750px) {
            .container {
                padding: 15px;
            }

            h1 {
                font-size: 1.6rem;
            }

            .btn {
                font-size: 0.95rem;
                padding: 10px 20px;
                width: 100%;
            }

            .btn-container {
                flex-direction: column;
                gap: 20px;
            }

            .challenge-history {
                padding: 10px;
            }

            .challenge-item {
                font-size: 0.9rem;
                padding: 8px;
            }
        }

        /* Pour les petits écrans Android / Redmi */
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }

            h1 {
                font-size: 1.4rem;
            }

            .btn {
                font-size: 0.9rem;
                padding: 8px 18px;
                width: 100%;
            }

            .btn-container {
                flex-direction: column;
                gap: 15px;
            }

            .challenge-history {
                padding: 8px;
            }

            .challenge-item {
                font-size: 0.85rem;
                padding: 7px;
            }
        }
  

    </style>
</head>
<body>

    <div class="container" id="container">
        <h1>Défis du Voyage</h1>

        <div class="btn-container">
            <button id="btn-defi" class="btn" onclick="nouveauDefi()">Défi du jour</button>
            <button class="btn btn-secondary" onclick="afficherHistorique()">Historique</button>
        </div>

        <!-- Section Défi -->
        <div id="defi-container" class="challenge-history">
            <h3>Défi du Jour</h3>
            <p id="defi-text">Clique sur "Défi du jour" pour commencer !</p>
            <div>
                <button id="btn-accepter" class="btn" onclick="accepterDefi()">Accepter le défi</button>
                <button id="btn-reussi" class="btn" onclick="mettreAJourHistorique(true)" disabled>Réussi</button>
                <button id="btn-non-reussi" class="btn btn-secondary" onclick="mettreAJourHistorique(false)" disabled>Non Réussi</button>
            </div>
        </div>
    </div>
    <button id="btn-reset" class="btn" onclick="resetEverything()">ADMIN</button>



    <script>

function resetEverything() {
    const password = prompt("Entrez le mot de passe pour réinitialiser : (uniquement pur les développeurs)");
    if (password === 'iFlyA380!') { // Remplacez 'test123' par le mot de passe que vous souhaitez
        localStorage.clear();
        alert("Tout a été réinitialisé !");
        window.location.reload(); // Recharger la page après réinitialisation
    } else {
        alert("Mot de passe incorrect !");
    }
}

document.addEventListener("DOMContentLoaded", function () {
    if (!localStorage.getItem("tutoVu")) {
        lancerTuto();
        localStorage.setItem("tutoVu", "true");
    }
});
function lancerTuto() {
    const etapes = [
        { element: "#btn-defi", texte: "Clique ici pour générer un défi du jour !" },
        { element: "#btn-accepter", texte: "Accepte le défi si tu veux le relever !" },
        { element: "#btn-reussi", texte: "Si tu réussis, clique ici !" },
        { element: "#btn-non-reussi", texte: "Sinon, clique ici pour l'enregistrer comme non réussi." },
        { element: "#btn-reset", texte: "Ce bouton est réservé aux développeurs !", position: 'left' }
    ];

    let index = 0;
    afficherPopUp();

    function afficherPopUp() {
        if (index >= etapes.length) return;

        const etape = etapes[index];
        const element = document.querySelector(etape.element);
        if (!element) return;

        // Mettre en évidence l'élément
        element.classList.add('highlight');

        const popUp = document.createElement("div");
        popUp.classList.add("tuto-popup");
        popUp.innerHTML = `
            <p>${etape.texte}</p>
            <button onclick="fermerPopUp()">Suivant</button>
        `;

        document.body.appendChild(popUp);

        const rect = element.getBoundingClientRect();
        if (etape.position === 'left') {
            popUp.style.top = `${rect.top + window.scrollY}px`;
            popUp.style.left = `${rect.left + window.scrollX - popUp.offsetWidth - -180}px`; // Ajusté pour ne pas être trop à gauche
        } else {
            popUp.style.top = `${rect.top + window.scrollY - 60}px`;
            popUp.style.left = `${rect.left + window.scrollX + (rect.width / 2)}px`;
        }
    }

    window.fermerPopUp = function () {
        const currentElement = document.querySelector(etapes[index].element);
        if (currentElement) {
            currentElement.classList.remove('highlight');
        }
        document.querySelector(".tuto-popup").remove();
        index++;
        afficherPopUp();
    };
}



        // Liste des défis
        const defis = [
    "Faire répéter 4 fois la même chose à quelqu'un sans qu'il s'en aperçoive.",
    "Faire sourire une personne inconnue dans la rue.",
    "Mimer un animal pendant 1 minute et voir si quelqu'un devine lequel.",
    "Demander à un inconnu de te raconter une blague.",
    "Prendre une photo d'un détail étrange et le partager avec un ami.",
    "Changer de place discrètement sans que personne ne le remarque.",
    "Imiter quelqu’un pendant 10 secondes.",
    "Complimenter quelqu’un sans raison.",
    "Discrètement poser une question étrange à quelqu’un.",
    "Mimer une action sans que quelqu’un s’en aperçoive.",
    "Complimenter un détail étrange chez quelqu’un.",
    "Faire un petit mouvement de danse discrètement.",
    "Agir mystérieusement pendant une seconde.",
    "Faire une pause de réflexion intense sans raison.",
    "Écrire une note secrète et la donner à quelqu’un sans qu’ils sachent d’où elle vient.",
    "Dire un mot en répétition tout en parlant.",
    "Remarquer un objet que quelqu’un porte et l’adorer discrètement.",
    "Faire un geste de main secret.",
    "Tenir une pose étrange pendant quelques secondes.",
    "Prendre une photo discrète de quelque chose sans qu’on te remarque.",
    "Rire sans raison apparente.",
    "Répondre à une question de manière décalée.",
    "Regarder fixement un objet pendant quelques secondes.",
    "Lancer un compliment sur un détail qu'aucun autre ne remarque.",
    "Chuchoter quelque chose de drôle à un ami.",
    "Pointer un objet sans regarder directement.",
    "Dire une phrase intrigante, puis ne plus rien ajouter.",
    "S'éclipser discrètement d’un groupe pendant une minute.",
    "Utiliser un accessoire de manière inattendue (ex. lunettes, chapeau).",
    "Faire une mimique sans que ça soit évident.",
    "Montrer un air exagéré de surprise sans raison.",
    "Faire semblant de comprendre quelque chose que tu n'as pas entendu.",
    "Faire une pause rapide comme si tu réfléchissais profondément à une question.",
    "Marcher d’une manière particulière pendant quelques pas.",
    "Lancer un petit défi à quelqu’un sans qu’il s’en aperçoive.",
    "Contenir un éclat de rire pendant 5 secondes.",
    "Tourner sur soi-même une fois sans que personne ne remarque.",
    "Utiliser un mot étranger dans une conversation.",
    "Regarder quelque chose sans cligner des yeux pendant 10 secondes.",
    "Prendre un objet de façon inattendue et l'utiliser brièvement.",
    "Complimenter une personne sur sa façon de respirer.",
    "Dire “merci” de manière excessive à quelqu’un qui ne t’a rien donné.",
    "Compter les respirations d’une personne discrètement.",
    "Faire une pause comme si tu étais perdu dans tes pensées.",
    "Fixer un endroit en dehors du groupe sans raison.",
    "Parler en rimes pendant une minute.",
    "Répondre à une question en utilisant uniquement des emojis.",
    "S’arrêter de bouger pendant une minute, en attendant que quelqu’un le remarque.",
    "Applaudir brièvement et discrètement pendant une conversation.",
    "Lancer une poignée de sable en l’air sans que personne ne le voie.",
    "Sourire en regardant un objet sans raison.",
    "Faire un clin d'œil à quelqu'un de façon subtile.",
    "Poser une question inutile à quelqu’un.",
    "Lever la main sans raison pendant une discussion.",
    "Dire “je suis heureux(se)” à quelqu’un, même si c’est évident.",
    "Manger lentement une bouchée sans bouger.",
    "Fixer un objet pendant que tout le monde parle.",
    "Parler en chuchotant pendant quelques secondes.",
    "Modifier ta voix pour que ça ressemble à un accent étrange.",
    "Jouer à un jeu de mime sans avertir personne.",
    "Faire des gestes avec les mains pendant que tu parles.",
    "Utiliser un mot exagéré dans une phrase.",
    "Faire un commentaire sur quelque chose de totalement banal.",
    "Marcher en arrière sans se faire repérer.",
    "Trouver un objet bizarre et le regarder intensément.",
    "Commencer à parler très lentement et puis accélérer la parole.",
    "Répéter deux fois un mot inutile.",
    "Porter un vêtement de manière inhabituelle (ex : mettre une écharpe de manière originale).",
    "Créer un bruit étrange en passant.",
    "Sourire discrètement sans raison évidente.",
    "Imiter le bruit d’un animal de manière subtile.",
    "Changer la direction de ta marche soudainement.",
    "Regarder autour de toi à la recherche de quelque chose d’invisible.",
    "Dire “c’est fou” à chaque phrase.",
    "Crier 'voilà!' à chaque fois que tu fais quelque chose.",
    "Répéter une phrase intrigante à quelqu’un puis ne pas lui répondre.",
    "S’éclipser discrètement pendant quelques secondes.",
    "Regarder autour de toi comme si tu attendais quelque chose.",
    "Parler comme si tu étais un personnage historique.",
    "Lancer un défi à un ami sans qu’il le sache.",
    "Réagir à une situation comme si c’était la première fois.",
    "Réciter une chanson sans raison.",
    "Changer brusquement d’attitude.",
    "Regarder fixement une personne pendant une seconde sans bouger.",
    "Parler plus fort que d’habitude sans raison.",
    "Discrètement tirer un objet d’un sac.",
    "Marcher à un rythme exagéré.",
    "Réagir en sautillant à chaque remarque.",
    "Faire une pause dans une conversation, puis dire quelque chose de simple.",
    "Applaudir brièvement.",
    "Durer dans une pose qui te paraît étrange.",
    "Lancer des regards furtifs tout en parlant.",
    "Utiliser des mots inhabituels dans des phrases.",
    "Faire une imitation brève d’un autre camarade.",
    "Diriger l’attention d’un groupe sans raison.",
    "Réagir comme si tu venais d’avoir une idée brillante.",
    "Réciter un discours célèbre d’un film sans que les autres s’en aperçoivent.",
    "Regarder le ciel pendant une minute sans raison.",
    "Dire quelque chose de drôle et partir rapidement.",
    "Faire une mini danse pendant une seconde.",
    "Placer un objet dans un autre endroit sans que personne le remarque.",
    "Faire semblant d’être épuisé sans raison.",
    "Parler en faisant des gestes étranges.",
    "Rester immobile pendant 10 secondes.",
    "Changer brusquement d’attitude.",
    "Dire 'Hé, attends!' et ne rien expliquer.",
    "Prendre une pose qui te semble normale, mais étrange.",
    "Mimer une action sans utiliser de mots.",
    "Parler plus fort que d’habitude sans raison.",
    "Demander à quelqu’un ce qu’il pense, mais en utilisant un ton mystérieux.",
    "Se lever sans dire pourquoi.",
    "Faire semblant d’être en pleine interview.",
    "Applaudir gentiment après une action banale.",
    "Regarder quelqu’un avec un air trop sérieux.",
    "Dire 'C'est magique' à chaque situation banale.",
    "Saisir un objet puis faire semblant de le regarder sous un autre angle.",
    "Fixer un objet et faire semblant de l’analyser.",
    "Faire un geste de la main comme si tu commandais quelque chose.",
    "Créer un effet d’illusion avec ton regard.",
    "Changer de position sans raison.",
    "Lever les yeux sans dire un mot.",
    "Manger un aliment de manière théâtrale.",
    "Regarder autour de toi comme si tu attendais quelque chose.",
    "Complimenter quelqu’un pour un mouvement qu’il fait inconsciemment.",
    "Commencer à rire en voyant quelqu’un bouger.",
    "Faire une remarque sérieuse sur un sujet non pertinent.",
    "Trouver une excuse farfelue pour dire quelque chose.",
    "Créer une situation mystérieuse en posant une question intrigante.",
    "Regarder un groupe de personnes et hocher la tête lentement.",
    "Rester impassible pendant que quelqu’un raconte une blague.",
    "Réagir à quelque chose que tu n’as pas entendu.",
    "Regarder le sol et faire semblant d’y trouver quelque chose.",
    "Appuyer sur un bouton et prétendre ne pas savoir pourquoi.",
    "Dire 'T’as vu ça ?!' sans raison apparente.",
    "Faire semblant de comprendre quelque chose alors que tu ne sais pas.",
    "Agir comme si tu avais une mission secrète.",
    "Applaudir gentiment après une action banale.",
    "Demander à quelqu’un 'Pourquoi pas ?' pour une décision absurde.",
    "Prendre un moment pour fixer une personne sans rien dire.",
    "Prendre un moment pour regarder autour de toi comme si tu cherchais quelque chose d'important.",
    "Faire semblant d’être en pleine discussion avec une personne invisible.",
    "Faire un compliment sur un objet apparemment insignifiant.",
    "Regarder quelqu’un dans les yeux sans cligner des yeux.",
    "Revenir sur tes pas pendant 30 secondes puis repartir normalement.",
    "Dire 'c'est l’heure' sans expliquer de quoi il s'agit.",
    "Faire une danse de célébration d’une seconde.",
    "Parler à une personne en utilisant des synonymes pendant toute la conversation.",
    "Prendre une pose de super-héros pendant 10 secondes.",
    "Regarder les autres autour de toi et hocher la tête comme si tu approuvais quelque chose.",
    "Prendre un objet et prétendre qu’il appartient à quelqu’un d’autre.",
    "Utiliser un accent différent tout au long de la journée.",
    "Jouer avec tes cheveux tout en parlant.",
    "Répéter une phrase qu’un autre dit à haute voix en la déformant légèrement.",
    "Parler d’un film fictif pendant 5 minutes comme si c'était réel.",
    "Fixer une personne en parlant d’un sujet complètement aléatoire.",
    "Exagérer une réaction en parlant d’une situation banale.",
    "Faire semblant de lire les pensées de quelqu’un.",
    "Faire semblant de te souvenir de quelque chose que tu n’as jamais vécu.",
    "Écrire quelque chose en utilisant seulement un doigt.",
    "Faire un saut sans raison apparente.",
    "Regarder quelqu’un dans les yeux et rire doucement.",
    "Demander à quelqu’un de répéter une phrase déjà entendue.",
    "Imiter un bruit d'animal au moment inattendu.",
    "Faire un compliment qui semble sincère mais étrange.",
    "Utiliser un mot de manière inappropriée pendant une conversation.",
    "Expliquer quelque chose de très simple comme si c'était une grande découverte."
];

// Fonction pour récupérer un défi aléatoire
function choisirDefi() {
    const randomIndex = Math.floor(Math.random() * defis.length);
    return defis[randomIndex];
}

// Fonction pour afficher un nouveau défi et le stocker dans localStorage
function nouveauDefi() {
    const defiDuJour = choisirDefi();
    localStorage.setItem('defiDuJour', defiDuJour);
    document.getElementById('defi-text').innerText = defiDuJour;
    document.getElementById('btn-accepter').disabled = false;
    document.getElementById('btn-defi').disabled = true; // Désactive le bouton "Défi du jour"
}

// Vérifier si un défi a déjà été accepté
function verifierDefi() {
    const defiDuJour = localStorage.getItem('defiDuJour');
    const defiAccepte = localStorage.getItem('defiDuJourAccepte');
    const heureAcceptation = localStorage.getItem('heureAcceptation');

    if (defiAccepte) {
        const now = new Date().getTime();
        const minuit = new Date(new Date().setHours(24, 0, 0, 0)).getTime();
        
        // Si l'heure d'acceptation est avant minuit, on garde le défi
        if (now < minuit) {
            document.getElementById('defi-text').innerText = defiAccepte;
            document.getElementById('btn-accepter').disabled = true;
            document.getElementById('btn-reussi').disabled = false;
            document.getElementById('btn-non-reussi').disabled = false;
        } else {
            // Si minuit est passé, réinitialiser le défi
            localStorage.removeItem('defiDuJourAccepte');
            localStorage.removeItem('heureAcceptation');
            document.getElementById('defi-text').innerText = "Clique sur 'Défi du jour' pour commencer !";
            document.getElementById('btn-defi').disabled = false;
        }
    } else {
        // Si aucun défi n'a été accepté, afficher le défi du jour
        document.getElementById('defi-text').innerText = defiDuJour || "Clique sur 'Défi du jour' pour commencer !";
        document.getElementById('btn-defi').disabled = false;
    }
}

// Appel initial de la fonction pour vérifier l'état du défi
window.onload = function() {
    verifierDefi();
};

// Fonction pour accepter le défi
function accepterDefi() {
    const defiDuJour = localStorage.getItem('defiDuJour');
    localStorage.setItem('defiDuJourAccepte', defiDuJour);
    
    // Stocker l'heure d'acceptation du défi
    const heureActuelle = new Date().getTime();
    localStorage.setItem('heureAcceptation', heureActuelle);
    
    // Désactiver le bouton "Accepter le défi"
    document.getElementById('btn-accepter').disabled = true;
    document.getElementById('btn-accepter').style.backgroundColor = '#FF4C00';

    // Activer les boutons "Réussi" et "Non Réussi"
    document.getElementById('btn-reussi').disabled = false;
    document.getElementById('btn-non-reussi').disabled = false;
    
    // Réinitialiser le défi à minuit
    const minuit = new Date(new Date().setHours(24, 0, 0, 0)).getTime();
    const timeUntilMidnight = minuit - Date.now();

    setTimeout(() => {
        localStorage.removeItem('defiDuJourAccepte');
        localStorage.removeItem('heureAcceptation');
        document.getElementById('defi-text').innerText = "Clique sur 'Défi du jour' pour commencer !";
        document.getElementById('btn-defi').disabled = false;
    }, timeUntilMidnight);
}

// Fonction pour mettre à jour l'historique
function mettreAJourHistorique(estReussi) {
    const defiDuJour = localStorage.getItem('defiDuJourAccepte');
    const statut = estReussi ? "Réussi" : "Non réussi";
    
    // Ajouter le défi à l'historique dans localStorage
    let historique = JSON.parse(localStorage.getItem('historique')) || [];
    historique.push({defi: defiDuJour, statut: statut});
    localStorage.setItem('historique', JSON.stringify(historique));

    // Désactiver les boutons après avoir choisi
    document.getElementById('btn-reussi').disabled = true;
    document.getElementById('btn-non-reussi').disabled = true;

    // Afficher un message de confirmation
    alert(`Défi "${defiDuJour}" marqué comme ${statut}`);
}

function afficherHistorique() {
    const historique = JSON.parse(localStorage.getItem('historique')) || [];
    let historiqueHtml = `
        <h3>Historique des Défis</h3>
        <button class="btn btn-secondary" onclick="retourAuxDefis()">Retour</button>
    `;
    historique.forEach(item => {
        historiqueHtml += `<div class="challenge-item"><span>${item.defi}</span><span>${item.statut}</span></div>`;
    });
    document.getElementById('defi-container').innerHTML = historiqueHtml;
}

function retourAuxDefis() {
    const defiDuJour = localStorage.getItem('defiDuJour');
    const defiAccepte = localStorage.getItem('defiDuJourAccepte');
    document.getElementById('defi-container').innerHTML = `
        <h3>Défi du Jour</h3>
        <p id="defi-text">${defiAccepte || defiDuJour || "Clique sur 'Défi du jour' pour commencer !"}</p>
        <div>
            <button id="btn-accepter" class="btn" onclick="accepterDefi()">Accepter le défi</button>
            <button id="btn-reussi" class="btn" onclick="mettreAJourHistorique(true)" ${defiAccepte ? '' : 'disabled'}>Réussi</button>
            <button id="btn-non-reussi" class="btn btn-secondary" onclick="mettreAJourHistorique(false)" ${defiAccepte ? '' : 'disabled'}>Non Réussi</button>
        </div>
    `;
    if (defiAccepte) {
        document.getElementById('btn-accepter').disabled = true;
        document.getElementById('btn-reussi').disabled = false;
        document.getElementById('btn-non-reussi').disabled = false;
    } else {
        document.getElementById('btn-accepter').disabled = false;
        document.getElementById('btn-reussi').disabled = true;
        document.getElementById('btn-non-reussi').disabled = true;
    }
}


document.addEventListener("DOMContentLoaded", function () {
    if (!localStorage.getItem("tutoVu")) {
        lancerTuto();
        localStorage.setItem("tutoVu", "true");
    }
});


    </script>

</body>
</html>
